<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PC Parts Tracker - Best Deals on Computer Parts</title>
<style>
:root{color-scheme:dark;--bg-primary:#0a0e17;--bg-secondary:#0f172a;--bg-card:#1e293b;--accent:#3b82f6;--accent-hover:#2563eb;--text-primary:#f1f5f9;--text-secondary:#cbd5e1;--border:rgba(255,255,255,.08)}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg-primary);color:var(--text-primary);line-height:1.6}
nav{background:var(--bg-secondary);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100;backdrop-filter:blur(12px)}
.nav-container{max-width:1400px;margin:0 auto;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}
.logo{font-size:1.5rem;font-weight:800;background:linear-gradient(135deg,#3b82f6 0%,#8b5cf6 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.nav-links{display:flex;gap:2rem;list-style:none}
.nav-links a{color:var(--text-secondary);text-decoration:none;font-weight:500;transition:color .2s}
.nav-links a:hover{color:var(--text-primary)}
.hero{max-width:1400px;margin:0 auto;padding:4rem 2rem;text-align:center}
.hero h1{font-size:3.5rem;font-weight:900;margin-bottom:1rem;background:linear-gradient(135deg,#fff 0%,#94a3b8 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero p{font-size:1.25rem;color:var(--text-secondary);margin-bottom:2rem;max-width:600px;margin-left:auto;margin-right:auto}
.cta-button{display:inline-block;padding:1rem 2rem;background:var(--accent);color:white;text-decoration:none;border-radius:12px;font-weight:600;font-size:1.1rem;transition:all .3s;box-shadow:0 4px 20px rgba(59,130,246,.3)}
.cta-button:hover{background:var(--accent-hover);transform:translateY(-2px);box-shadow:0 6px 30px rgba(59,130,246,.4)}
.featured-section{max-width:1400px;margin:4rem auto;padding:0 2rem}
.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}
.section-header h2{font-size:2rem;font-weight:800}
.ai-badge{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:linear-gradient(135deg,rgba(139,92,246,.2) 0%,rgba(59,130,246,.2) 100%);border:1px solid rgba(139,92,246,.3);border-radius:999px;font-size:.875rem;font-weight:600}
.ai-badge::before{content:"âœ¨";font-size:1rem}
.deals-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem}
.deal-card{background:var(--bg-card);border:1px solid var(--border);border-radius:16px;overflow:hidden;transition:all .3s;position:relative}
.deal-card:hover{transform:translateY(-4px);box-shadow:0 12px 40px rgba(0,0,0,.4);border-color:rgba(59,130,246,.3)}
.deal-badge{position:absolute;top:12px;right:12px;background:rgba(239,68,68,.9);color:white;padding:.25rem .75rem;border-radius:999px;font-size:.75rem;font-weight:700;z-index:10}
.deal-image{width:100%;aspect-ratio:16/10;background:var(--bg-secondary);object-fit:cover}
.deal-content{padding:1.25rem}
.deal-title{font-size:1rem;font-weight:600;margin-bottom:.5rem;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.deal-meta{display:flex;gap:.75rem;margin-bottom:.75rem;flex-wrap:wrap}
.deal-tag{font-size:.75rem;padding:.25rem .5rem;background:rgba(59,130,246,.15);border:1px solid rgba(59,130,246,.25);border-radius:6px;color:#93c5fd}
.deal-price{font-size:1.75rem;font-weight:900;color:#10b981;margin-bottom:.75rem}
.deal-reason{font-size:.875rem;color:var(--text-secondary);margin-bottom:1rem;font-style:italic;line-height:1.5}
.deal-button{display:block;width:100%;padding:.75rem;background:var(--accent);color:white;text-align:center;text-decoration:none;border-radius:10px;font-weight:600;transition:all .2s}
.deal-button:hover{background:var(--accent-hover)}
.loading{text-align:center;padding:4rem 2rem;color:var(--text-secondary)}
.spinner{width:40px;height:40px;border:3px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 1rem}
@keyframes spin{to{transform:rotate(360deg)}}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);z-index:1000;align-items:center;justify-content:center;padding:2rem}
.modal.active{display:flex}
.modal-content{background:var(--bg-card);border-radius:24px;max-width:800px;width:100%;max-height:90vh;overflow-y:auto;padding:2rem;position:relative;border:1px solid var(--border)}
.modal-close{position:absolute;top:1rem;right:1rem;background:none;border:none;color:var(--text-secondary);font-size:2rem;cursor:pointer;line-height:1;padding:.5rem}
.modal-close:hover{color:var(--text-primary)}
.builder-form{display:flex;flex-direction:column;gap:1.5rem;margin-top:2rem}
.form-group{display:flex;flex-direction:column;gap:.5rem}
.form-group label{font-weight:600;color:var(--text-primary)}
.form-group select,.form-group input{background:var(--bg-secondary);border:1px solid var(--border);border-radius:12px;padding:1rem;color:var(--text-primary);font-size:1rem}
.builder-button{background:linear-gradient(135deg,#8b5cf6 0%,#6366f1 100%);color:white;border:none;padding:1rem 2rem;border-radius:12px;font-weight:600;font-size:1.1rem;cursor:pointer;transition:all .3s;margin-top:1rem}
.builder-button:hover{transform:translateY(-2px);box-shadow:0 6px 30px rgba(139,92,246,.4)}
.builder-button:disabled{opacity:.5;cursor:not-allowed;transform:none}
.build-result{margin-top:2rem;display:none}
.build-result.active{display:block}
.build-part{background:var(--bg-secondary);border:1px solid var(--border);border-radius:12px;padding:1rem;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center;gap:1rem}
.build-part-info h4{margin:0 0 .25rem 0;color:var(--text-primary)}
.build-part-info p{margin:0;color:var(--text-secondary);font-size:.875rem}
.build-part-price{font-size:1.25rem;font-weight:800;color:#10b981}
.build-total{background:linear-gradient(135deg,rgba(139,92,246,.2) 0%,rgba(59,130,246,.2) 100%);border:2px solid rgba(139,92,246,.3);border-radius:12px;padding:1.5rem;margin-top:1.5rem;text-align:center}
.build-total h3{margin:0 0 .5rem 0;font-size:1.25rem}
.build-total .total-price{font-size:2.5rem;font-weight:900;color:#10b981}
@media (max-width:768px){.hero h1{font-size:2.5rem}.nav-links{gap:1rem}.section-header{flex-direction:column;align-items:flex-start;gap:1rem}}
</style>
</head>
<body>
<nav>
<div class="nav-container">
<div class="logo">PC Parts Tracker</div>
<ul class="nav-links">
<li><a href="index.html">Home</a></li>
<li><a href="browse.html">Browse All</a></li>
</ul>
</div>
</nav>
<div class="hero">
<h1>Find the Best PC Part Deals</h1>
<p>AI-powered deal discovery across eBay, Newegg, and more. Save money on your next build.</p>
<div style="display:flex;gap:1rem;justify-content:center;flex-wrap:wrap">
<a href="browse.html" class="cta-button">Browse All Parts</a>
<button onclick="openPCBuilder()" class="cta-button" style="background:linear-gradient(135deg,#8b5cf6 0%,#6366f1 100%);border:none;cursor:pointer">âœ¨ AI PC Builder</button>
</div>
</div>
<div id="pcBuilderModal" class="modal">
<div class="modal-content">
<button class="modal-close" onclick="closePCBuilder()">Ã—</button>
<h2 style="margin:0 0 .5rem 0;font-size:2rem">AI PC Builder</h2>
<p style="color:var(--text-secondary);margin:0">Answer a few questions and let AI build your perfect PC from available deals</p>
<div class="builder-form">
<div class="form-group">
<label>What's your budget?</label>
<input type="number" id="budget" placeholder="e.g., 1000" min="300" max="5000"/>
</div>
<div class="form-group">
<label>What will you use it for?</label>
<select id="useCase">
<option value="">Select use case...</option>
<option value="gaming">Gaming</option>
<option value="productivity">Productivity / Work</option>
<option value="content-creation">Content Creation / Video Editing</option>
<option value="budget">Basic Use / Budget Build</option>
<option value="enthusiast">High-End / Enthusiast</option>
</select>
</div>
<div class="form-group">
<label>Performance priority?</label>
<select id="priority">
<option value="">Select priority...</option>
<option value="balanced">Balanced (best value)</option>
<option value="gpu">GPU focused (gaming/rendering)</option>
<option value="cpu">CPU focused (productivity)</option>
<option value="storage">Storage focused (large files)</option>
</select>
</div>
<div class="form-group">
<label>Condition preference?</label>
<select id="conditionPref">
<option value="any">Any condition (best deals)</option>
<option value="new">New only</option>
<option value="new-openbox">New or Open Box</option>
</select>
</div>
<button class="builder-button" onclick="generateBuild()" id="generateBtn">âœ¨ Generate My Build</button>
</div>
<div id="buildResult" class="build-result">
<h3 style="margin:2rem 0 1rem 0">Your Custom Build</h3>
<div id="buildParts"></div>
<div class="build-total">
<h3>Total Build Cost</h3>
<div class="total-price" id="totalPrice">$0.00</div>
<p style="margin:.5rem 0 0 0;color:var(--text-secondary)">Based on current available deals</p>
</div>
</div>
</div>
</div>
<div class="featured-section">
<div class="section-header">
<h2>Featured Deals</h2>
<span class="ai-badge">AI Recommended</span>
</div>
<div id="loading" class="loading">
<div class="spinner"></div>
<p>Finding the best deals...</p>
</div>
<div id="deals" class="deals-grid" style="display:none"></div>
</div>
<script>
const WORKER_URL='https://pc-builder-api.hunterallen3120922.workers.dev';const FALLBACK_IMG="data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="750"><rect width="100%" height="100%" fill="#0b1220"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-family="Arial" font-size="42" fill="#7aa2ff">No Image</text></svg>');function upgradeEbayImg(e){return e?String(e).trim().replace(/\/s-l\d+\.(jpg|jpeg|png|webp)$/i,"/s-l1600.$1"):""}function calculateSavings(){return Math.round(30*Math.random())+10}function getAIReason(){return["Best price-to-performance ratio in category","Trending deal - price dropped recently","High-value component for budget builds","Popular choice with excellent reviews","Great deal compared to market average"][Math.floor(5*Math.random())]}async function loadFeaturedDeals(){try{const e=["gpu","cpu","motherboard","psu","case","ssd"],t=[];for(const a of e)try{const e=await fetch(`data/${a}.json`,{cache:"no-store"});if(e.ok){const a=await e.json();t.push(...a)}}catch(e){console.warn(`Failed to load ${a}:`,e)}if(0===t.length)return void(document.getElementById("loading").innerHTML="<p>No deals found. Check back soon!</p>");const a=t.filter(e=>{if(!e.price||e.price<=0)return!1;const t=(e.title||"").toLowerCase();return!t.includes("bid")&&!t.includes("auction")&&(!t.includes("for parts")&&!t.includes("broken"))});displayDeals(heuristicSelection(a))}catch(e){console.error("Error loading deals:",e),document.getElementById("loading").innerHTML="<p>Error loading deals. Please try again later.</p>"}}function heuristicSelection(e){const t=e.map(e=>{let t=0;"New"===e.condition?t+=20:"Open Box"===e.condition&&(t+=10),"newegg"===e.site&&(t+=15);const a=e.title.toLowerCase();return["msi","asus","corsair","samsung"].some(e=>a.includes(e))&&(t+=10),{...e,score:t}});t.sort((e,t)=>t.score-e.score);const a=[],n=new Set;for(const e of t)!n.has(e.partType)&&a.length<6&&(a.push(e),n.add(e.partType));for(const e of t){if(a.length>=6)break;a.includes(e)||a.push(e)}return a.slice(0,6)}function displayDeals(e){const t=document.getElementById("deals"),a=document.getElementById("loading");t.innerHTML="",e.forEach(e=>{const a=document.createElement("div");a.className="deal-card";const n=calculateSavings(),l=upgradeEbayImg(e.image_url)||FALLBACK_IMG;a.innerHTML=`<div class="deal-badge">-${n}%</div><img src="${l}" alt="${e.title}" class="deal-image" onerror="this.src='${FALLBACK_IMG}'" loading="lazy"><div class="deal-content"><h3 class="deal-title">${e.title||e.name}</h3><div class="deal-meta"><span class="deal-tag">${e.partType}</span><span class="deal-tag">${e.site}</span><span class="deal-tag">${e.condition}</span></div><div class="deal-price">$${e.price.toFixed(2)}</div><p class="deal-reason">${getAIReason()}</p><a href="${e.url}" target="_blank" rel="noopener noreferrer" class="deal-button">View Deal â†’</a></div>`,t.appendChild(a)}),a.style.display="none",t.style.display="grid"}function openPCBuilder(){document.getElementById("pcBuilderModal").classList.add("active"),document.body.style.overflow="hidden"}function closePCBuilder(){document.getElementById("pcBuilderModal").classList.remove("active"),document.body.style.overflow="auto"}async function generateBuild(){const e=parseFloat(document.getElementById("budget").value),t=document.getElementById("useCase").value,a=document.getElementById("priority").value,n=document.getElementById("conditionPref").value;if(!e||!t||!a)return void alert("Please fill in all required fields");const l=document.getElementById("generateBtn");l.disabled=!0,l.textContent="ðŸ¤– AI is building your PC...";try{const r=["gpu","cpu","motherboard","psu","case","ssd"],i={},o={};for(const e of r)try{const t=await fetch(`data/${e}.json`,{cache:"no-store"});if(t.ok){const a=await t.json();let l=a.filter(e=>e.price&&e.price>0);"new"===n?l=l.filter(e=>"New"===e.condition):"new-openbox"===n&&(l=l.filter(e=>"New"===e.condition||"Open Box"===e.condition)),o[e]=l.sort((e,t)=>e.price-t.price),i[e]=o[e].slice(0,30).map(e=>({title:e.title,price:e.price,condition:e.condition,site:e.site}))}}catch(t){console.warn(`Failed to load ${e}:`,t),i[e]=[],o[e]=[]}const s=await fetch(WORKER_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({budget:e,useCase:t,priority:a,conditionPref:n,parts:i})});if(!s.ok)throw new Error("Worker request failed");const d=await s.json();if(!d.success||!d.build)throw new Error(d.error||"Invalid response");const c={};for(const[e,t]of Object.entries(d.build))"reasoning"!==e&&(c[e]=o[e][t]);displayBuild(c)}catch(r){console.error("Build error:",r),alert("AI builder unavailable. Using smart fallback...");try{const l=["gpu","cpu","motherboard","psu","case","ssd"],i={};for(const e of l){const t=await fetch(`data/${e}.json`,{cache:"no-store"});t.ok&&(i[e]=await t.json())}const o=smartBuildPC(e,t,a,i,n);o?displayBuild(o):alert("Could not find compatible parts within budget.")}catch(e){alert("Both AI and fallback failed. Please try again.")}}finally{l.disabled=!1,l.textContent="âœ¨ Generate My Build"}}function smartBuildPC(e,t,a,n,l){const r={gaming:{gpu:.35,cpu:.2,motherboard:.15,psu:.1,case:.08,ssd:.12},productivity:{gpu:.15,cpu:.3,motherboard:.18,psu:.12,case:.1,ssd:.15},"content-creation":{gpu:.3,cpu:.25,motherboard:.15,psu:.12,case:.08,ssd:.1},budget:{gpu:.25,cpu:.2,motherboard:.15,psu:.12,case:.1,ssd:.18},enthusiast:{gpu:.4,cpu:.25,motherboard:.12,psu:.1,case:.06,ssd:.07}};let i={...r[t]};"gpu"===a?(i.gpu+=.1,i.cpu-=.05,i.motherboard-=.05):"cpu"===a&&(i.cpu+=.1,i.gpu-=.05,i.ssd-=.05);const o=Object.fromEntries(Object.keys(i).map(t=>[t,e*i[t]])),s=(e,t,a)=>{if(!e?.length)return null;let r=e.filter(e=>e.price>0);"new"===l?r=r.filter(e=>"New"===e.condition):"new-openbox"===l&&(r=r.filter(e=>"New"===e.condition||"Open Box"===e.condition));const i=r.sort((e,t)=>e.price-t.price),o=i.filter(e=>e.price>=t*(1-a)&&e.price<=t*(1+a));return o.length>0?o[Math.floor(o.length/2)]:i[0]},d=s(n.gpu,o.gpu,.3),c=s(n.cpu,o.cpu,.3);if(!d||!c)return null;const p=c.title.toLowerCase(),u=(n.motherboard?.filter(e=>{const t=e.title.toLowerCase();return p.includes("ryzen")||p.includes("amd")?t.includes("am4")||t.includes("am5")||t.includes("amd"):t.includes("lga")||t.includes("intel")})||[],m=s(u,o.motherboard,.4),b=s(n.psu,o.psu,.3),g=s(n.case,o.case,.4),f=s(n.ssd,o.ssd,.3);return m&&b&&g&&f?{gpu:d,cpu:c,motherboard:m,psu:b,case:g,ssd:f}:null}function displayBuild(e){const t=document.getElementById("buildParts"),a=document.getElementById("buildResult");t.innerHTML="";let n=0;const l={gpu:"Graphics Card",cpu:"Processor",motherboard:"Motherboard",psu:"Power Supply",case:"Case",ssd:"Storage"};for(const[a,r]of Object.entries(e)){if(!r)continue;n+=r.price;const e=document.createElement("div");e.className="build-part",e.innerHTML=`<div class="build-part-info"><h4>${l[a]}</h4><p>${r.title}</p><p style="margin-top:.25rem"><strong>${r.condition}</strong> â€¢ ${r.site}</p></div><div><div class="build-part-price">$${r.price.toFixed(2)}</div><a href="${r.url}" target="_blank" rel="noopener" style="font-size:.75rem;color:var(--accent);text-decoration:none">View Deal â†’</a></div>`,t.appendChild(e)}document.getElementById("totalPrice").textContent=`$${n.toFixed(2)}`,a.classList.add("active"),a.scrollIntoView({behavior:"smooth",block:"nearest"})}loadFeaturedDeals();
</script>
</body>
</html>